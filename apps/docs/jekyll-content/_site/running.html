<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Running Cucumber</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/stylesheets/pygments/TomorrowNightEightiesStyle.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.css" rel="stylesheet">
    <link href="/stylesheets/styles.css" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico">
  </head>

  <body>
    <div class="community-nav ">
      <nav role='nav'>
        <a href='/' class="mark" alt='Cucumber' title='cukes.info'></a>
        <a href='/platforms' class="active">Docs</a>
        <a href='/blog'>Blog</a>
        <a href='/school'>School</a>
        <a href='/training'>Training</a>
        <a href='https://cucumber.pro'>Cucumber Pro</a>
        <a href='/support'>Support</a>
      </nav>
    </div>

    <div class="navbar navbar-inverse navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>

          <div class="nav-collapse collapse">
            <ul class="nav">
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Install <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/platforms.html">Platforms</a></li>
                        
                      
                        
                          <li class="divider"></li>
                        
                      
                        
                          <li><a href="/install-cucumber-jvm.html">Install Cucumber-JVM</a></li>
                        
                      
                        
                          <li><a href="/install-cucumber-ruby.html">Install Cucumber-Ruby</a></li>
                        
                      
                        
                          <li><a href="/install-cucumber-rails.html">Install Cucumber-Rails</a></li>
                        
                      
                        
                          <li><a href="/install-cucumber-js.html">Install Cucumber-JavaScript</a></li>
                        
                      
                    </ul>
                  </li>
                
              
                
                  
                  
                    
                  
                  <li class="active">
                    <a href="/running.html">Running</a>
                  </li>
                
              
                
                  
                  
                  <li class="">
                    <a href="/gherkin.html">Gherkin</a>
                  </li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/api-overview.html">API Overview</a></li>
                        
                      
                        
                          <li><a href="/glue-code.html">Glue Code</a></li>
                        
                      
                        
                          <li><a href="/step-definitions.html">Step Definitions</a></li>
                        
                      
                        
                          <li><a href="/hooks.html">Hooks</a></li>
                        
                      
                        
                          <li><a href="/reports.html">Reports</a></li>
                        
                      
                        
                          <li class="divider"></li>
                          <li class="nav-header">Cucumber-JVM</li>
                        
                      
                        
                          <li><a href="/dependency-injection.html">Dependency Injection</a></li>
                        
                      
                    </ul>
                  </li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn more <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/browser-automation.html">Browser Automation</a></li>
                        
                      
                        
                          <li><a href="/reports.html">Reports</a></li>
                        
                      
                        
                          <li><a href="/databases.html">Databases</a></li>
                        
                      
                    </ul>
                  </li>
                
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="span8">
         <h1 id="running_cucumber">Running Cucumber</h1>

<p>There are quite a few ways you can run Cucumber. It depends on what programming language you are using and also what build tool you are using (if any).</p>

<ul>
<li>Command Line</li>

<li>Rake</li>

<li>Maven</li>

<li>Ant</li>

<li>JUnit</li>

<li>IDEs (Eclipse, IDEA)</li>
</ul>

<h2 id="running_cucumberjvm">Running Cucumber-JVM</h2>

<h3 id="command_line">Command Line</h3>

<p>This is only mildly complicated due to the need to specify a classpath etc.</p>

<p>In short, use the following script:</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>CLASSPATH</span><span class='o'>=</span>lib/*
<span class='nv'>CLASSPATH</span><span class='o'>=</span><span class='nv'>$CLASSPATH</span>:classes
<span class='nv'>CLASSPATH</span><span class='o'>=</span><span class='nv'>$CLASSPATH</span>:test-classes

java <span class='se'>\</span>
    -classpath <span class='nv'>$CLASSPATH</span> <span class='se'>\</span>
    cucumber.api.cli.Main <span class='se'>\</span>
    --glue foldername <span class='se'>\ </span><span class='c'># the foldername containing compiled glue code</span>
    path/to/feature/folder
</code></pre></div>
<p>In this example, the directory structure looks like so (slightly modified from the Cucumber-JVM “Hello World” example):</p>

<pre><code>
lib/
    cucumber-core.jar
    cucumber-java.jar
    cucumber-jvm-deps.jar
    gherkin.jar
src/
    main/java/skeleton/Belly.java
    test/
         java/skeleton/Stepdefs.java
         resources/cucumber.properties
         resources/skeleton/belly.feature
</code></pre>

<p>The sources are compiled into two folders: target/classes for the actual code, and target/test-classes for step definitions known as “glue code”. This then explains the classpath settings in the script above:</p>

<ol>
<li>The lib folder containing the Cucumber jars.</li>

<li>The compiled source code.</li>

<li>The compiled glue code.</li>
</ol>

<p>…and also the argument to ’–glue’.</p>

<p>Running the above script should (if everything works correctly) run your features.</p>

<h3 id="junit">JUnit</h3>

<p>Create one empty class with the <code>@RunWith(Cucumber.class)</code> annotation. Executing this class as any JUnit test class will run all features found on the classpath in the same package as this class. The options to be used are defined with the <code>@CucumberOptions</code> (<code>@Cucumber.Options</code> is deprecated from version 1.1.5).</p>
<div class='highlight'><pre><code class='java'><span class='kn'>package</span> <span class='n'>somepackage</span><span class='o'>;</span>

<span class='kn'>import</span> <span class='nn'>cucumber.api.CucumberOptions</span><span class='o'>;</span>
<span class='kn'>import</span> <span class='nn'>cucumber.api.junit.Cucumber</span><span class='o'>;</span>
<span class='kn'>import</span> <span class='nn'>org.junit.runner.RunWith</span><span class='o'>;</span>

<span class='nd'>@RunWith</span><span class='o'>(</span><span class='n'>Cucumber</span><span class='o'>.</span><span class='na'>class</span><span class='o'>)</span>
<span class='nd'>@CucumberOptions</span><span class='o'>(</span><span class='n'>format</span> <span class='o'>=</span> <span class='s'>&quot;pretty&quot;</span><span class='o'>)</span>
<span class='kd'>public</span> <span class='kd'>class</span> <span class='nc'>RunCukesTest</span> <span class='o'>{</span>
<span class='o'>}</span>
</code></pre></div>
<h3 id="testng">TestNG</h3>

<p>TODO</p>

<h3 id="android">Android</h3>

<p>TODO</p>

<h4 id="android_options">Android options</h4>

<p>TODO</p>

<h3 id="maven">Maven</h3>

<p>TODO</p>

<h3 id="ant">Ant</h3>

<p>Apart from the usual classpath/compile/clean targets, to actually run Cucumber-JVM you will need the following xml. Note that the ‘compile-test’ target compiles the test classes which include the glue code for steps etc. It uses the same directory structure as the Command-line example above.</p>
<div class='highlight'><pre><code class='xml'>    <span class='nt'>&lt;target</span> <span class='na'>name=</span><span class='s'>&quot;runcukes&quot;</span> <span class='na'>depends=</span><span class='s'>&quot;compile-test&quot;</span><span class='nt'>&gt;</span>
        <span class='nt'>&lt;java</span> <span class='na'>classname=</span><span class='s'>&quot;cucumber.api.cli.Main&quot;</span> <span class='na'>fork=</span><span class='s'>&quot;true&quot;</span>
            <span class='na'>failonerror=</span><span class='s'>&quot;false&quot;</span> <span class='na'>resultproperty=</span><span class='s'>&quot;cucumber.exitstatus&quot;</span><span class='nt'>&gt;</span>
            <span class='nt'>&lt;classpath</span> <span class='na'>refid=</span><span class='s'>&quot;classpath&quot;</span><span class='nt'>/&gt;</span>
            <span class='nt'>&lt;arg</span> <span class='na'>value=</span><span class='s'>&quot;--glue&quot;</span><span class='nt'>/&gt;</span>
            <span class='nt'>&lt;arg</span> <span class='na'>value=</span><span class='s'>&quot;skeleton&quot;</span><span class='nt'>/&gt;</span>
            <span class='nt'>&lt;arg</span> <span class='na'>value=</span><span class='s'>&quot;src/test/resources&quot;</span><span class='nt'>/&gt;</span>
        <span class='nt'>&lt;/java&gt;</span>

        <span class='nt'>&lt;fail</span> <span class='na'>message=</span><span class='s'>&quot;Cucumber failed&quot;</span><span class='nt'>&gt;</span>
            <span class='nt'>&lt;condition&gt;</span>
                <span class='nt'>&lt;not&gt;</span>
                    <span class='nt'>&lt;equals</span> <span class='na'>arg1=</span><span class='s'>&quot;${cucumber.exitstatus}&quot;</span> <span class='na'>arg2=</span><span class='s'>&quot;0&quot;</span><span class='nt'>/&gt;</span>
                <span class='nt'>&lt;/not&gt;</span>
            <span class='nt'>&lt;/condition&gt;</span>
        <span class='nt'>&lt;/fail&gt;</span>
    <span class='nt'>&lt;/target&gt;</span>
</code></pre></div>
<p>Simply run <code>ant runcukes</code> to run the tests.</p>

<h3 id="gradle">Gradle</h3>

<p>TODO</p>

<h2 id="options">Options</h2>

<p>TODO: Explain all the options</p>
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <a href="https://github.com/cucumber/website/edit/master/apps/docs/jekyll-content/running.md">Edit this page</a>
      </div>
    </footer>

    <script src="/javascripts/jquery-1.8.1.min.js"></script>
    <script src="/javascripts/bootstrap-2.3.1.min.js"></script>
    <script src="/javascripts/bootstrap-tab-memory.js"></script>
  </body>
</html>
