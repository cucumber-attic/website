<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cucumber Reports</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/stylesheets/pygments/TomorrowNightEightiesStyle.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.css" rel="stylesheet">
    <link href="/stylesheets/styles.css" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico">
  </head>

  <body>
    <div class="community-nav ">
      <nav role='nav'>
        <a href='/' class="mark" alt='Cucumber' title='cukes.info'></a>
        <a href='/platforms' class="active">Docs</a>
        <a href='/blog'>Blog</a>
        <a href='/school'>School</a>
        <a href='/training'>Training</a>
        <a href='https://cucumber.pro'>Cucumber Pro</a>
        <a href='/support'>Support</a>
      </nav>
    </div>

    <div class="navbar navbar-inverse navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>

          <div class="nav-collapse collapse">
            <ul class="nav">
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Install <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/platforms.html">Platforms</a></li>
                        
                      
                        
                          <li class="divider"></li>
                        
                      
                        
                          <li><a href="/install-cucumber-jvm.html">Install Cucumber-JVM</a></li>
                        
                      
                        
                          <li><a href="/install-cucumber-ruby.html">Install Cucumber-Ruby</a></li>
                        
                      
                        
                          <li><a href="/install-cucumber-rails.html">Install Cucumber-Rails</a></li>
                        
                      
                        
                          <li><a href="/install-cucumber-js.html">Install Cucumber-JavaScript</a></li>
                        
                      
                    </ul>
                  </li>
                
              
                
                  
                  
                  <li class="">
                    <a href="/running.html">Running</a>
                  </li>
                
              
                
                  
                  
                  <li class="">
                    <a href="/gherkin.html">Gherkin</a>
                  </li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/api-overview.html">API Overview</a></li>
                        
                      
                        
                          <li><a href="/glue-code.html">Glue Code</a></li>
                        
                      
                        
                          <li><a href="/step-definitions.html">Step Definitions</a></li>
                        
                      
                        
                          <li><a href="/hooks.html">Hooks</a></li>
                        
                      
                        
                          <li><a href="/reports.html">Reports</a></li>
                        
                      
                        
                          <li class="divider"></li>
                          <li class="nav-header">Cucumber-JVM</li>
                        
                      
                        
                          <li><a href="/dependency-injection.html">Dependency Injection</a></li>
                        
                      
                    </ul>
                  </li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn more <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/browser-automation.html">Browser Automation</a></li>
                        
                      
                        
                          <li><a href="/reports.html">Reports</a></li>
                        
                      
                        
                          <li><a href="/databases.html">Databases</a></li>
                        
                      
                    </ul>
                  </li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ecosystem <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/community-help.html">Community Help</a></li>
                        
                      
                        
                          <li><a href="/source-code.html">Source code</a></li>
                        
                      
                        
                          <li><a href="/editors-and-ides.html">Editors and IDEs</a></li>
                        
                      
                    </ul>
                  </li>
                
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="span8">
         <h1 id="cucumber_reports">Cucumber Reports</h1>

<p>Cucumber can report results in several different formats, using <em>formatters</em>. Formatters are specified either on the command line or in code. Some formatters generate files while others print to <code>STDOUT</code>. You can specify as many formatters as you like.</p>

<p>The available formatters are:</p>

<h4 id="pretty">Pretty</h4>

<p>Prints the <a href="/gherkin.html">gherkin</a> source with additional colours and stack traces for errors</p>

<h4 id="html">HTML</h4>

<p>This report is handy for publishing</p>

<h4 id="json">JSON</h4>

<p>This report contains all the information from the <a href="/gherkin.html">gherkin</a> source, with additional results for each step, including embedded screenshots. This report is meant to be post-processed into another visual format by 3rd party tools such as <a href="https://github.com/masterthought/jenkins-cucumber-jvm-reports-plugin">Cucumber Jenkins</a>.</p>

<h4 id="progress">Progress</h4>

<p>This report prints results to <code>STDOUT</code>, on character at a time. It looks like this:</p>
<pre><code>....F--U.......</code></pre>
<h4 id="usage">Usage</h4>

<p>This report prints statistics to <code>STDOUT</code>. Programmers may find it useful to find slow or unused <a href="/step-definitions.html">Step Definitions</a>.</p>

<h4 id="junit">JUnit</h4>

<p>This report generates XML files just like <a href="http://ant.apache.org/">Apache Ant</a>’s <a href="https://ant.apache.org/manual/Tasks/junitreport.html">junitreport</a> task. This XML format is understood by most <a href="http://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a> servers, who will use it to generate visual reports.</p>

<h4 id="rerun">Rerun</h4>

<p>This report generates a file that lists the location of failed Scenarios. This can be picked up by subsequent Cucumber runs, allowing only previously failed Scenarios to be rerun. Programmers may find this useful while fixing broken scenarios, especially if running all scenarios is time-consuming.</p>

<h3 id="embedding_extra_information_in_reports">Embedding extra information in reports</h3>

<p>Programmers can embed text and images into reports via an API that is available in <a href="/step-definitions.html">Step Definitions</a> and <a href="/hooks.html">Hooks</a>. This can make it easier to diagnose failures. Some reports will ignore embedded data while others will include it.</p>

<h4 id="embedding_text">Embedding Text</h4>

<p>Text is embedded in the following way:</p>
<ul class='nav nav-tabs'>
  <li><a class='ruby' data-toggle='tab' href='#text-ruby'><div>&nbsp;</div></a></li>
  <li><a class='java' data-toggle='tab' href='#text-java'><div>&nbsp;</div></a></li>
</ul><div class='tab-content'>
  <div class='tab-pane' id='text-ruby'>

<div class='highlight'><pre><code class='ruby'><span class='no'>When</span> <span class='sr'>/I do the deed/</span> <span class='k'>do</span>
  <span class='nb'>puts</span> <span class='s1'>&#39;This goes into the report&#39;</span>
  <span class='no'>Kernel</span><span class='o'>.</span><span class='n'>puts</span> <span class='s1'>&#39;This goes to STDOUT, but not into the report&#39;</span>
<span class='k'>end</span>
</code></pre></div>

  </div>

  <div class='tab-pane' id='text-java'>

<div class='highlight'><pre><code class='java'><span class='nd'>@Before</span>
<span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>before</span><span class='o'>(</span><span class='n'>Scenario</span> <span class='n'>scenario</span><span class='o'>)</span> <span class='o'>{</span>
    <span class='k'>this</span><span class='o'>.</span><span class='na'>scenario</span> <span class='o'>=</span> <span class='n'>scenario</span><span class='o'>;</span>
<span class='o'>}</span>

<span class='nd'>@When</span><span class='o'>(</span><span class='s'>&quot;I do the deed&quot;</span><span class='o'>)</span>
<span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>do_the_deed</span><span class='o'>()</span> <span class='o'>{</span>
    <span class='n'>scenario</span><span class='o'>.</span><span class='na'>write</span><span class='o'>(</span><span class='s'>&quot;This goes into the report&quot;</span><span class='o'>);</span>
    <span class='n'>System</span><span class='o'>.</span><span class='na'>out</span><span class='o'>.</span><span class='na'>println</span><span class='o'>(</span><span class='s'>&quot;This goes to STDOUT, but not into the report&quot;</span><span class='o'>);</span>
<span class='o'>}</span>
</code></pre></div>

  </div>
</div>
<h4 id="embedding_screenshots">Embedding Screenshots</h4>

<p>TODO: Add an image of a report with a screenshot. Can be a close-up with a small section.</p>

<p>If you are using Cucumber with a GUI driver such as a <a href="/browser-automation.html">Browser Automation</a> tool, it can sometimes be useful to embed screenshots or videos of the user interface in Cucumber’s <a href="/reports.html#html">HTML</a> or <a href="/reports.html#json">JSON</a> report.</p>

<p>Cucumber itself doesn’t provide an API to <em>take</em> screenshots or videos, but it provides an API to <em>embed</em> them into the report. For example, if you are using <a href="http://seleniumhq.org/projects/webdriver/">Selenium WebDriver</a>, you can ask it to give you a screenshot, and then embed them into the report.</p>
<ul class='nav nav-tabs'>
  <li><a class='ruby' data-toggle='tab' href='#screenshots-ruby'><div>&nbsp;</div></a></li>
  <li><a class='java' data-toggle='tab' href='#screenshots-java'><div>&nbsp;</div></a></li>
</ul><div class='tab-content'>
  <div class='tab-pane' id='screenshots-ruby'>

<div class='highlight'><pre><code class='ruby'><span class='no'>After</span> <span class='k'>do</span> <span class='o'>|</span><span class='n'>scenario</span><span class='o'>|</span>
  <span class='k'>if</span><span class='p'>(</span><span class='n'>scenario</span><span class='o'>.</span><span class='n'>failed?</span><span class='p'>)</span>
    <span class='n'>page</span><span class='o'>.</span><span class='n'>driver</span><span class='o'>.</span><span class='n'>browser</span><span class='o'>.</span><span class='n'>save_screenshot</span><span class='p'>(</span><span class='s2'>&quot;html-report/</span><span class='si'>#{</span><span class='n'>scenario</span><span class='o'>.</span><span class='n'>__id__</span><span class='si'>}</span><span class='s2'>.png&quot;</span><span class='p'>)</span>
    <span class='n'>embed</span><span class='p'>(</span><span class='s2'>&quot;</span><span class='si'>#{</span><span class='n'>scenario</span><span class='o'>.</span><span class='n'>__id__</span><span class='si'>}</span><span class='s2'>.png&quot;</span><span class='p'>,</span> <span class='s2'>&quot;image/png&quot;</span><span class='p'>,</span> <span class='s2'>&quot;SCREENSHOT&quot;</span><span class='p'>)</span>
  <span class='k'>end</span>
<span class='k'>end</span>
</code></pre></div>

  </div>
  <div class='tab-pane' id='screenshots-java'>

<div class='highlight'><pre><code class='java'><span class='nd'>@After</span>
<span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>embedScreenshot</span><span class='o'>(</span><span class='n'>Scenario</span> <span class='n'>scenario</span><span class='o'>)</span> <span class='o'>{</span>
    <span class='k'>if</span><span class='o'>(</span><span class='n'>result</span><span class='o'>.</span><span class='na'>isFailed</span><span class='o'>())</span> <span class='o'>{</span>
        <span class='kt'>byte</span><span class='o'>[]</span> <span class='n'>screenshot</span> <span class='o'>=</span> <span class='n'>webDriver</span><span class='o'>.</span><span class='na'>getScreenshotAs</span><span class='o'>(</span><span class='n'>OutputType</span><span class='o'>.</span><span class='na'>BYTES</span><span class='o'>);</span>
        <span class='n'>scenario</span><span class='o'>.</span><span class='na'>embed</span><span class='o'>(</span><span class='n'>screenshot</span><span class='o'>,</span> <span class='s'>&quot;image/png&quot;</span><span class='o'>);</span>
    <span class='o'>}</span>
<span class='o'>}</span>
</code></pre></div>

  </div>
</div>
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <a href="https://github.com/cucumber/website/edit/master/apps/docs/jekyll-content/reports.md">Edit this page</a>
      </div>
    </footer>

    <script src="/javascripts/jquery-1.8.1.min.js"></script>
    <script src="/javascripts/bootstrap-2.3.1.min.js"></script>
    <script src="/javascripts/bootstrap-tab-memory.js"></script>
  </body>
</html>
